source('R/load_gapminder.R'); source('R/clean_gapminder.R'); source('R/model_lifeexp.R'); source('R/plot_gapminder.R'); df <- clean_gapminder(load_gapminder()); dir.create('data/processed', showWarnings=FALSE, recursive=TRUE); res <- fit_lifeexp_model(df, year=2007); readr::write_csv(res$tidy, 'data/processed/model_summary.csv'); dir.create('outputs', showWarnings=FALSE, recursive=TRUE); p <- plot_lifeexp_gdp(df, year=2007, continent='All'); ggplot2::ggsave('outputs/lifeExp_vs_gdp_2007.png', plot=p, width=7, height=5, dpi=300); message('Pipeline complete.')
